<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">網站封包 | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://eklipsorz.info/Network/websitePacket"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="網站封包 | My Site"><meta data-react-helmet="true" name="description" content="由於網站普遍皆使用應用層的http協定或者https協定來實現，所以客戶端(Client)和伺服器端(Server)之間的封包傳遞皆使用前兩者的其一個協定來規劃封包形式、封包內容、如何傳遞，在這裏會以http的封包來說明，而https的封包則留到後續再補充。"><meta data-react-helmet="true" property="og:description" content="由於網站普遍皆使用應用層的http協定或者https協定來實現，所以客戶端(Client)和伺服器端(Server)之間的封包傳遞皆使用前兩者的其一個協定來規劃封包形式、封包內容、如何傳遞，在這裏會以http的封包來說明，而https的封包則留到後續再補充。"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://eklipsorz.info/Network/websitePacket"><link data-react-helmet="true" rel="alternate" href="https://eklipsorz.info/Network/websitePacket" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://eklipsorz.info/Network/websitePacket" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.b697c4a6.css">
<link rel="preload" href="/assets/js/runtime~main.956c1c59.js" as="script">
<link rel="preload" href="/assets/js/main.e7137204.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">dev-wiki</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/">網站使用方式</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">渲染路徑</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">DOM結構以及使用方式</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">git 基本使用手冊</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">電腦網路</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Network/networkLayer">網路模型</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Network/client2server">HTTP：客戶端如何對伺服器發送請求</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Network/request_response_cycle">Web: Request/Response Cycle</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Network/websitePacket">網站封包</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Network/otherKnowledge">待分類知識</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Network/networkTerms">電腦網路名詞解釋</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">AC Semester 2-2</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">AC Semester 2-3</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>網站封包</h1></header><p>由於網站普遍皆使用應用層的http協定或者https協定來實現，所以客戶端(Client)和伺服器端(Server)之間的封包傳遞皆使用前兩者的其一個協定來規劃封包形式、封包內容、如何傳遞，在這裏會以http的封包來說明，而https的封包則留到後續再補充。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="http封包形式"></a>HTTP封包形式<a class="hash-link" href="#http封包形式" title="Direct link to heading">#</a></h2><p>當Client端想透過HTTP協定去使用server端的網站時，Client端跟server端這兩者間會做TCP/IP中的三向交握中建立連結，之後Client便會正式發送請求的HTTP封包給server端，而server端收到請求後便會回傳另一個HTTP封包來回應Client。</p><p>未增加封包後的版本：
<img src="https://res.cloudinary.com/dqfxgtyoi/image/upload/v1631431354/blog/how2useAPI/client2server_rzjbgc.png"></p><p>增加封包後的版本：
<img src="https://res.cloudinary.com/dqfxgtyoi/image/upload/v1631433951/blog/how2useAPI/detail_client2server_k7juuv.png"></p><p>由於應用層的HTTP封包都會直接分為Header和Body，Header會存放告訴系統如何處理應用層或者HTTP協定，而Body則是應用程式-網站所要傳遞/接收的正式內容，Client端和server端對於Header和Body的內容皆不一樣，Client端封包的Header部分會有Request Method、Request URL、Request Headers，而Body則是Message body，其中Resqest Method是指想要對目標資源做什麼樣請求，Request URL是具體的目標資源，其URL是用來定義資源在網路環境下的的位置格式，使用這個格式可以在網路上找到對應的目標資源，Request Headers則是進一步定義請求的設定、格式、要找的伺服器位址(與URL不同，只列出對應伺服器域名或者IP)，最後一個Message body是該請求封包的具體詳細請求內容。</p><p>server端封包的Header部分會有Status code、Response Headers，而Body則是Response Body，其中Status code則是以數字表示回應Client請求的結果/狀態，Response Headers則是進一步定義回應&quot;請求&quot;的設定、內容格式(Content-Type，定義回傳資料是什麼格式)，而Response Body則是具體詳細的回應內容。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="resquest-method"></a>Resquest Method<a class="hash-link" href="#resquest-method" title="Direct link to heading">#</a></h3><p>Resqest Method是指Client端想要對目標資源做什麼樣請求，具體請求有：</p><ol><li>GET: 主要向目標資源請求讀取某些資料。</li><li>POST: 主要告訴對方我要傳東西給你，請看我在Message body儲存的內容來新增，注重於建立內容和資源。</li><li>PATCH: 主要告訴對方我要傳東西給你，請看我在Message body儲存的內容來按照現有資料內容進行部分內容更新。</li><li>PUT: 透過特定內容來取代目標資源上的所有內容來達到更新，若被取代內容不存在的話，會增加特定內容至目標資源上。</li><li>DELETE: 會請求對方刪除某些資源。</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="冪等請求"></a>冪等請求<a class="hash-link" href="#冪等請求" title="Direct link to heading">#</a></h3><p>英文為Idempotent，源自於數學的一元運算式的冪等，也就是若進行任一個元素進行多次的冪等運算式，其結果會是該元素進行一次的冪等運算式之結果，套用在HTTP請求上，如果任一個資源被一個請求被重複發送好幾次，其最後結果會像是下達一個同種請求後的結果，該請求就會是冪等(Idempotent)。根據這個定義，主要的五種請求方法會是：</p><ol><li>GET 請求方法：屬於冪等請求，因為當對一個資源進行多次同樣的GET請求方法，都會是得到同樣的資源內容，這對於下達一次的GET請求方法而言，結果會與多次同樣的方法之結果是一樣。</li><li>POST 請求方法：不屬於冪等請求，因為當對一個資源進行多次同樣的POST請求方式時，會不斷建立好幾塊內容或者資源，這對一次的POST請求方法而言，結果會與多次同樣的方法之結果是不一樣，因為單次的POST請求方法就只是一塊內容或者資源。</li><li>PATCH 請求方法：不屬於冪等請求，然而該請求方式可以是冪等請求或者非冪等請求，這並不是其他請求那樣其特性被固定，一切取決於開發者如何運用PATCH以及運用方式是否具有冪等特性，但在這裡會為了嚴謹性而直接設定成不屬於冪等請求，不過當我們指定Patch為冪等請求時，比如下面的Patch request，這個請求會直接修改名為Tito的歲數，但多次下次同樣的Patch request，其結果會如同指下達一次的Patch reqeust之結果，也就是都皆為33歲</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// Original resource</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: &#x27;Tito&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  age: 32</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// PATCH request</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  age: 33</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// New resource</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: &#x27;Tito&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  age: 33</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>然而若Patch request改成非冪等請求，則會像是以下的Patch request，當下達一次的Patch request就會替名為Tito的歲數增加歲數，這會讓每一次的Patch結果皆不一樣，換言之，多次的Patch request之結果跟單次Patch request的結果是不一樣的。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// Original resource</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: &#x27;Tito&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  age: 32</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// PATCH request</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  $increment: &#x27;age&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// New resource</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: &#x27;Tito&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  age: 33</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>這兩個範例皆從本小節的參考資料得來的，若要仔細了解可以去閱讀參考資料中的<a href="https://softwareengineering.stackexchange.com/questions/260818/why-patch-method-is-not-idempotent" target="_blank" rel="noopener noreferrer">Why PATCH method is not idempotent?</a></p><ol start="4"><li><p>PUT 請求方法：屬於冪等請求，該功能會先找到它想更改的內容，並用其他內容來完整取代，所以若對一個資源進行多次同樣的PUT請求方法，會因為第一次就已經成功取代，而並不會讓後續相同的PUT請求方法找到同樣想改的內容進行取代，整體結果會跟第一次的PUT請求方法一樣。</p></li><li><p>DELETE 請求方法：屬於冪等請求，該功能會先找到它想要刪除的內容，並且找到就刪除，所以若對一個資源進行多次同樣的DELETE請求方法，會因為第一次就已經完成刪除，而並不會讓後續相同的DELETE請求方法找到同樣想改的內容進行刪除，整體結果會跟第一次的DELETE請求方法一樣。</p></li></ol><p>參考資料：</p><ol><li><a href="https://softwareengineering.stackexchange.com/questions/260818/why-patch-method-is-not-idempotent" target="_blank" rel="noopener noreferrer">Why PATCH method is not idempotent?</a></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="安全請求"></a>安全請求<a class="hash-link" href="#安全請求" title="Direct link to heading">#</a></h3><p>如果一個請求不會改變伺服器上的狀態和資源，該請求為Safe請求，根據這種特性，我們將上述五種請求來分類：</p><ol><li>GET 請求方法：屬於Safe請求，因為只會單方面讀取資源內容，並不會更改狀態和資源內容。</li><li>POST 請求方法：不屬於Safe請求，因為會單方面對增加內容或者增加資源，這更改了資源。</li><li>PATCH 請求方法：不屬於Safe請求，因為會單方面對指定內容來更新另一個指定內容，這更改了資源。</li><li>PUT 請求方法：不屬於Safe請求，因為會單方面會對指定內容進行完整內容的取代，這更改了資源。</li><li>DELETE 請求方法：不屬於Safe請求，因會單方面會指定資源或者指定內容來刪除，這更改了資源。</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="整體的分類表"></a>整體的分類表<a class="hash-link" href="#整體的分類表" title="Direct link to heading">#</a></h3><p><img src="https://res.cloudinary.com/dqfxgtyoi/image/upload/v1631438998/blog/how2useAPI/safeAndIdempotent_yonpjf.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="post-vs-patch"></a>POST vs. PATCH<a class="hash-link" href="#post-vs-patch" title="Direct link to heading">#</a></h3><p>這兩者的共同點是可以增加內容，但不同點就在於POST會更注重於內容或者資源上的建立，而PATCH更注重於找到指定內容並且更新其內容。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="post-vs-put"></a>POST vs. PUT<a class="hash-link" href="#post-vs-put" title="Direct link to heading">#</a></h3><p>這兩者的共同點是可以增加內容，但不同點主要有兩點：</p><ol><li><p>POST會更注重於內容或者資源上的建立，而PUT會先去找指定內容是否存在，若存在就以另一個指定內容來取代；而若不存在的話就增加指定內容。</p></li><li><p>POST並不是Idempotent請求，因對同一個資源進行多次相同的POST請求會增加多個區塊的內容，而這不同於第一次的POST請求結果，而PUT則是Idempotent請求，因PUT請求會先找到指定內容才會開始有所動作，但若第一次先處理完PUT請求，那麼之後相同的PUT請求將會找不到指定內容而讓內容沒變動過，換言之，多次的PUT請求結果會等同於一次的PUT請求結果。</p></li><li><p>另一個對於PUT和POST的官方解釋(參考於本小節的參考資料)：</p><blockquote><p>The difference between PUT and POST is that PUT is idempotent: calling it once or several times successively has the same effect (that is no side effect), whereas successive identical POST requests may have additional effects, akin to placing an order several times.</p></blockquote></li></ol><p>參考資料：</p><ol><li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT" target="_blank" rel="noopener noreferrer">The difference between PUT and POST</a></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="patch-vs-put"></a>PATCH vs. PUT<a class="hash-link" href="#patch-vs-put" title="Direct link to heading">#</a></h3><p>這兩者的共同點是可以更新資料，就前者而言，可以直接指定部分資料範圍來更新資料，而後者則是透過取代來更新資料，然而在更新方面上，PUT得必須添加更新內容和其餘內容來替代，比如說我們想要修改某個網頁的第一隻動物的名字，</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot; : 1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot; : &quot;安安&quot; ,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;type&quot; : &quot;狒狒&quot; , </span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;birthday&quot; : &quot;2019/01/01&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>而且只修改名字而已(如下)，我們可以使用以下兩種方法之一：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">PATCH http://127.0.0.1:3000/api/animal/1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">PUT http://127.0.0.1:3000/api/animal/1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>當我們使用第一種來將名字修改成 &quot;你好&quot; 的話，並將更新內容(如下)填入至Message Body，</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;:&quot;你好&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>其結果回如同預期那樣，只修改名字屬性</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">--結果--</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot; : 1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot; : &quot;安安&quot; ,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;type&quot; : &quot;狒狒&quot; ,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;birthday&quot; : &quot;2019/01/01&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>但若採用二種方式，把同個更新內容填入至Message Body，</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;:&quot;你好&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>其結果會是如下，所有沒被設定的屬性值皆會用預設值，比如null或者系統預設值，實際上就只有名字被正確地修改</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">--結果--</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot; : 1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot; : &quot;你好&quot; ,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;type&quot; :  null ,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;birthday&quot; : null</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>所以若要採取PUT的話，得把全部的屬性值都寫上一輪以及要更新的內容合起來寫來做取代，比如：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot; : 1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;:&quot;你好&quot; ,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;type&quot; : &quot;狒狒&quot; ,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;birthday&quot; : &quot;2019/01/01&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>參考資料：</p><ol><li><a href="https://ithelp.ithome.com.tw/articles/10224134" target="_blank" rel="noopener noreferrer">PUT、PATCH 差別</a></li><li><a href="https://stackoverflow.com/questions/31089221/what-is-the-difference-between-put-post-and-patch" target="_blank" rel="noopener noreferrer">What is the difference between PUT, POST and PATCH?</a></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="request-url"></a>Request URL<a class="hash-link" href="#request-url" title="Direct link to heading">#</a></h3><p>統一資源定位器(Uniform Resource Locator，URL)，別名網址，定義資源在網路環境下的的位置格式，如同門牌，URL會包含著支援協定、資源所在的主機位置、資源所在的主機位置之埠號(port)、資源在主機下的對應位置、參數，而URL普遍會被當作是向資源所在的主機位置發送索要資源的請求。</p><p>格式上會是：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[協定類型]://[伺服器位址]:[埠號]/[該伺服器下的檔案路徑(含檔名)]?[查詢/參數]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>協定類型： 可填入http、https</li><li>伺服器位址：可填入IP、由DNS Server給定的域名</li><li>埠號：一台實體主機為了能在同一個域名或者同一個IP下提供多種服務，而使用數字來區分出多種服務並且讓數字對應服務處理，而這個數字正是埠號，客戶端和伺服器端可以藉由埠號來使用特定服務以及進行對應的服務處理。不過預設上，若使用著常見的特定協定，可以直接省略埠號讓伺服器和客戶端自行判定，比如http和80、https和443</li><li>檔案路徑：會以特定目錄/資料夾位置來當作根目錄，並且根據網址給定的路徑來從對方主機的根目錄下找指定檔案路徑或者由網頁系統構成的路由系統來決定的資源和其資源路徑</li><li>查詢/參數：這邊會被瀏覽器當作該頁面下的參數來使用，若參數多於1個時會搭配著&amp;符號</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="路由系統"></a>路由系統<a class="hash-link" href="#路由系統" title="Direct link to heading">#</a></h3><p>路由系統為了讓整體的URL資源請求更適應於MVC架構而提出的，在這個系統之下的URL會有些許的不同，比如原本索要的資源必須以在該主機根目錄下的實際位置來索求資源，現在只需要幾個明確且單一的關鍵字就能代替這部分，換言之，URL中的該伺服器下的檔案路徑(含檔名)將會以該系統所定義的合法路徑來進行，</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[協定類型]://[伺服器位址]:[埠號]/[該伺服器下的檔案路徑(含檔名)]?[查詢/參數]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>而且不一定真的指向實際檔案位置，比如以下網址不一定就是以<a href="http://www.example.com%E6%A0%B9%E7%9B%AE%E9%8C%84%E4%B8%8B%E7%9A%84todolist%E7%9B%AE%E9%8C%84%E7%9A%84index.html%EF%BC%8C%E8%80%8C%E6%98%AF%E7%B6%93%E7%94%B1%E8%B7%AF%E7%94%B1%E7%B3%BB%E7%B5%B1%E8%BD%89%E7%99%BC%E7%B5%A6%E5%85%B6%E4%BB%96controller%E7%9A%84%E7%B5%90%E6%9E%9C" target="_blank" rel="noopener noreferrer">www.example.com根目錄下的todolist目錄的index.html，而是經由路由系統轉發給其他controller的結果</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">http://www.example.com/todolist</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="status-code"></a>Status Code<a class="hash-link" href="#status-code" title="Direct link to heading">#</a></h3><p>Status code則是Server端以數字表示回應Client端請求的結果/狀態，數字分別有：</p><ol><li>2XX系列：成功回應，例如200 OK，表示請求成功</li><li>3XX系列：重新轉向，例如301 (永久轉向)、302 (暫時轉向)</li><li>4XX系列：客户端錯誤回應，例如400 Bad Request 表示客戶端發送的請求封包出現錯誤(如格式出錯)，伺服器無法處理、403 Forbidden 表示伺服器理解請求，但拒絕執行回應結果(不包含回傳403訊息)</li><li>5XX系列：伺服器的問題，例如 500 Internal Server Error</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="content-type"></a>Content Type<a class="hash-link" href="#content-type" title="Direct link to heading">#</a></h3><p>content-type是Server端告知Client端本次請求回應的資料內容是什麼樣的資料格式，好讓Client知道如何讀取利用這些內容資訊，而種類主要有：</p><ul><li>text/html</li><li>text/plain</li><li>application/json</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/docs/Network/websitePacket.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Network/request_response_cycle"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Web: Request/Response Cycle</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Network/otherKnowledge"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">待分類知識 »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#http封包形式" class="table-of-contents__link">HTTP封包形式</a><ul><li><a href="#resquest-method" class="table-of-contents__link">Resquest Method</a></li><li><a href="#冪等請求" class="table-of-contents__link">冪等請求</a></li><li><a href="#安全請求" class="table-of-contents__link">安全請求</a></li><li><a href="#整體的分類表" class="table-of-contents__link">整體的分類表</a></li><li><a href="#post-vs-patch" class="table-of-contents__link">POST vs. PATCH</a></li><li><a href="#post-vs-put" class="table-of-contents__link">POST vs. PUT</a></li><li><a href="#patch-vs-put" class="table-of-contents__link">PATCH vs. PUT</a></li><li><a href="#request-url" class="table-of-contents__link">Request URL</a></li><li><a href="#路由系統" class="table-of-contents__link">路由系統</a></li><li><a href="#status-code" class="table-of-contents__link">Status Code</a></li><li><a href="#content-type" class="table-of-contents__link">Content Type</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.956c1c59.js"></script>
<script src="/assets/js/main.e7137204.js"></script>
</body>
</html>